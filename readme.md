# bash_docker_scripts

### Файл **alarm_script.py**

Содержит скрипт на языке Python, который контролирует потребление памяти и генерирует alarm путем отправки http запроса 
на API. Для его корректной работы замените ссылку **https://example.com/send_alarm** на корректный http вашего сайта.

##### Как работает:
Переменная memory_percent, которая используется в функции psutil.virtual_memory().percent, предоставляет информацию о 
текущем использовании оперативной памяти (RAM) вашего компьютера в процентах от общего объема доступной оперативной памяти.
Таким образом, полученное значение отображает доступную оперативную память. Этот показатель не связан с использованием 
дискового пространства на диске C или других устройствах хранения данных.

##### Для запуска понадобятся импортированные библиотеки psutil и requests:

        pip3 install psutil requests

### Файл **memory_monitor.sh**
Содержит скрипт на Bash, который контролирует потребление памяти и генерирует alarm путем отправки http запроса на API. 
Для его корректной работы замените ссылку **https://example.com/send_alarm** на корректный http вашего сайта.

##### Как работает:

Команда df -kh . возвращает информацию о файловой системе, в которой находится текущий рабочий каталог (.), 
в частности, о месте, использованном на этой файловой системе. Затем команда tail -n1 выбирает только последнюю 
строку вывода (т.е. информацию о текущей файловой системе). Наконец, команда awk '{print $5}' извлекает пятый 
столбец из этой строки, который обычно содержит процент использованного места на файловой системе. Таким образом, 
в результате мы получаем процент использования дискового пространства на текущей файловой системе.

##### Порядок запуска в директории расположения скрипта:
1. Дайте права на выполнение скрипту:

        chmod +x memory_monitor.sh

2. Запуск скрипта:

        ./memory_monitor.sh

### Приложение **flask_docker**
Имеет docker-compose.yml разворачивающий приложение на python с реализацией REST API с использованием Flask, 
которое слушает на порту 8080 и принимает методы GET, POST, PUT. В приложении используется NoSQL MongoDB.

##### Команды для docker-compose файла:
* Уничтожить: docker-compose down
* Перезапустить : docker-compose build
* Поднять в фоновом режиме: docker-compose up -d
* Прочитать логи: docker-compose logs
